<html>
<head>
    <meta charset="utf-8" />
    <title>Skype </title>
    <link rel="icon" href="favicon.ico" />
    <style>
        body { font-family: monospace; }
    </style>
</head>
<body>
    <script>
        function getVal(str) {
            var v = window.location.search.match(new RegExp('(?:[\?\&]' + str + '=)([^&]+)'));
            return v ? v[1] : null;
        }
        (function () {
            var user = getVal('user');
            if (user == null) {
                document.write('Invalid user');
                return;
            }
            if (getVal('command') == null) {
                document.write('command param missing:\nAdd "&command" to your url.\n'/*+document.URL*/ + '\n&command=\n\tinfo\n\tadd\n\tcall\n\tchat'.replace(/\n/g, '<br/>').replace(/\t/g, '&emsp;'));
                return;
            }
            switch (getVal('command')) {
                case 'info':
                    document.write('info');
                    document.location = 'skype:' + user + '?userinfo';
                    break;
                case 'add':
                    document.write('add');
                    document.location = 'skype:'+user+'?add';
                    break;
                case 'call':
                    document.write('call');
                    document.location = 'skype:'+user+'?call';
                    break;
                case 'chat':
                    document.write('chat');
                    document.location = 'skype:'+user+'?chat';
                    break;
                default:
                    document.write('invalid operator');
                    break;
            }
        })();
    </script>
</body>
</html>